@page
@using JobTracker.Pages
@using JobTracker.Model

@model IndexModel

@{
    ViewData["Title"] = "Home page";


    

}
<link rel="stylesheet" href="~/css/index.css" />
<script defer src="~/js/index.js" asp-append-version="true"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" />




<section>
    
        
       

   
   
    <div class="index-section">
      
        <!-- Applied Column -->
        <div class="applied columns">
            <div class="text-center blue">
                <div class="head-line">
                    <h2>Applied <strong class="number-count">(@Model.Jobs.Count(j => j.Status == "Applied"))</strong></h2>
                </div>

                <div class="filter-div">
                    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
                    <input class="titleFilter" placeholder="Filter by title or company" />

                 @*    <select class="sortSelect" name="sortOrder">
                        <option selected value="latest">Latest</option>
                        <option value="before">Before</option>
                    </select> *@

                    <select class="maxJobs">
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="100000" selected>All</option>
                    </select>
                </div>

                <div class="jobs-grid">
                    @foreach (var job in Model.Jobs.Where(j => j.Status == "Applied").OrderByDescending(j => j.CreatedAt))
                    {
                        <a asp-page="/Details" asp-route-id="@job.Id"
                           class="job-card blue-card"
                           data-title="@job.Title"
                           data-company="@job.Company"
                           data-date="@job.CreatedAt.ToString("yyyy-MM-dd")">
                            <div class="flex-div">
                                <div>
                                    <strong>@job.Title</strong>
                                    <i class="fa-solid fa-circle-check green-mark"></i>
                                    <p>@job.Company</p>
                                    @if (!string.IsNullOrWhiteSpace(job.Notes))
                                    {
                                        <p><i class="fas fa-thumbtack fa-lg"></i> @job.Notes</p>
                                    }
                                </div>
                                <div>
                                    <p>@job.CreatedAt</p>
                                </div>
                            </div>
                        </a>
                    }
                </div>
            </div>
        </div>

        <!-- Interview Column -->
        <div class="interview columns">
            <div class="text-center yellow">
                <div class="head-line">
                    <h2>Interview <strong class="number-count">(@Model.Jobs.Count(j => j.Status == "Interview"))</strong></h2>
                </div>

                <div class="filter-div">
                    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
                    <input class="titleFilter" placeholder="Filter by title or company" />

                 @*    <select class="sortSelect" name="sortOrder">
                        <option selected value="latest">Latest</option>
                        <option value="before">Before</option>
                    </select> *@

                    <select class="maxJobs">
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="100000" selected>All</option>
                    </select>
                </div>

                <div class="jobs-grid">
                    @foreach (var job in Model.Jobs.Where(j => j.Status == "Interview").OrderByDescending(j => j.CreatedAt))
                    {
                        <a asp-page="/Details" asp-route-id="@job.Id"
                           class="job-card yellow-card job-card-int"
                           data-title="@job.Title"
                           data-company="@job.Company"
                           data-date="@job.CreatedAt.ToString("yyyy-MM-dd")">
                            <div class="flex-div">
                                <div>
                                    <strong>@job.Title</strong>
                                    <i class="fa-solid fa-person-walking-luggage"></i>
                                    <p>@job.Company</p>
                                    <p>Notes: @job.Notes</p>
                                </div>
                                <p>@job.CreatedAt</p>
                            </div>
                        </a>
                    }
                </div>
            </div>
        </div>

        <!-- Offer Column -->
        <div class="offer columns">
            <div class="text-center green">
                <div class="head-line">
                    <h2>Offer <strong class="number-count">(@Model.Jobs.Count(j => j.Status == "Offer"))</strong></h2>
                </div>

                <div class="filter-div">
                    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
                    <input class="titleFilter" placeholder="Filter by title or company" />

                @*     <select class="sortSelect" name="sortOrder">
                        <option selected value="latest">Latest</option>
                        <option value="before">Before</option>
                    </select> *@

                    <select class="maxJobs">
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="100000" selected>All</option>
                    </select>
                </div>

                <div class="jobs-grid">
                    @foreach (var job in Model.Jobs.Where(j => j.Status == "Offer").OrderByDescending(j => j.CreatedAt))
                    {
                        <a asp-page="/Details" asp-route-id="@job.Id"
                           class="job-card green-card job-card-offer"
                           data-title="@job.Title"
                           data-company="@job.Company"
                           data-date="@job.CreatedAt.ToString("yyyy-MM-dd")">
                            <div class="flex-div">
                                <div>
                                    <strong>@job.Title</strong>
                                    <i class="fa-solid fa-briefcase"></i>
                                    <p>@job.Company</p>
                                </div>
                                <p>@job.CreatedAt</p>
                            </div>
                        </a>
                    }
                </div>
            </div>
        </div>

        <!-- Rejected Column -->
        <div class="rejected columns">
            <div class="text-center red">
                <div class="head-line">
                    <h2>Rejected <strong class="number-count">(@Model.Jobs.Count(j => j.Status == "Rejected"))</strong></h2>
                </div>

                <div class="filter-div">
                    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
                    <input class="titleFilter" placeholder="Filter by title or company" />

                    @* <select class="sortSelect" name="sortOrder">
                        <option selected value="latest">Latest</option>
                        <option value="before">Before</option>
                    </select> *@

                    <select class="maxJobs">
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="100000" selected>All</option>
                    </select>
                </div>

                <div class="jobs-grid">
                    @foreach (var job in Model.Jobs.Where(j => j.Status == "Rejected").OrderByDescending(j => j.CreatedAt))
                    {
                        <a asp-page="/Details" asp-route-id="@job.Id"
                           class="job-card red-card job-card-rej"
                           data-title="@job.Title"
                           data-company="@job.Company"
                           data-date="@job.CreatedAt.ToString("yyyy-MM-dd")">
                            <div class="flex-div">
                                <div>
                                    <strong>@job.Title</strong>
                                    <i class="fa-solid fa-circle-stop red-hand"></i>
                                    <p class="p-div-rejected">@job.Company</p>
                                </div>
                                <p>@job.CreatedAt</p>
                            </div>
                        </a>
                    }
                </div>
            </div>
        </div>

    </div>
</section>
